  <!DOCTYPE html>
<html>
<head>
	<title>Sample Todo list</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel='stylesheet' href='style.css' />
	<link rel="manifest" href="/manifest.json">
	<link rel="shortcut icon" href="/todo.png"/>
</head>
<body>

    <ul id="task-area">
		
	</ul>

	
    <form action="/tasks/new" method="POST">
        <input type="text" name="description" placeholder="write yout task">
        <input type="submit">
	</form>
	
	<div id="tasks">
	</div>

	<script>
		fetch("/tasks").then(function(res){
			console.log("Inside the fetch");
			res.json().then(function(data){
				console.log("Data from back end is "+data);
				data.forEach(function(task){	
					let taskhtml = document.createElement("li");
					let deletebutton = document.createElement('button');
					let updatebutton = document.createElement('button');
					deletebutton.innerHTML="delete this task";
					updatebutton.innerHTML="update this task";
					
					// updatebutton.addEventListener('click',function(){
					// 	updatetask(task._id,task.description);
					// })

					taskhtml.innerHTML=task.description;
					document.getElementById('task-area').append(taskhtml);
					document.getElementById('task-area').append(deletebutton);
					document.getElementById('task-area').append(updatebutton);

					})
				});
			})
			
		
	</script>

	
</body>
</html>
